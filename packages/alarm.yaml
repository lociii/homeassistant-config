input_number:
  alarm_hour:
    name: Stunde
    icon: mdi:timer
    min: 0
    max: 23
    step: 1
  alarm_minute:
    name: Minute
    icon: mdi:timer
    min: 0
    max: 55
    step: 5
  wakeup_segment_duration:
    name: Dauer je Abschnitt in Sekunden
    icon: mdi:timer
    min: 10
    max: 300
    step: 10

binary_sensor:
  - platform: workday
    country: !secret country
    province: !secret province

input_boolean:
  alarm_enabled:
    name: Wecker
    icon: mdi:alarm

sensor:
  - platform: template
    sensors:
      alarm_time:
        friendly_name: Wecker
        value_template: '{% if states.input_number.alarm_hour.state | int | string | length == 1 %}0{% endif %}{{ states.input_number.alarm_hour.state | int }}:{% if states.input_number.alarm_minute.state | int | string | length == 1 %}0{% endif %}{{ states.input_number.alarm_minute.state | int }}'
        entity_id:
          - input_number.alarm_hour
          - input_number.alarm_minute
      wakeup_segment_wait:
        friendly_name: Wartezeit je Abschnitt
        value_template: '00:{% if states.input_number.wakeup_segment_duration.state | int / 60 | int < 10 %}0{% endif %}{{ (states.input_number.wakeup_segment_duration.state | int / 60) | int }}:{% if states.input_number.wakeup_segment_duration.state | int % 60 | int < 10 %}0{% endif %}{{ (states.input_number.wakeup_segment_duration.state | int % 60) | int }}'
        entity_id:
          - input_number.wakeup_segment_duration
