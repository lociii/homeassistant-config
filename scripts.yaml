katzenklo_reset:
  alias: Katzenklo - Zuruecksetzen
  sequence:
  - data:
      value: 0
    entity_id: input_number.count_usage_catlitter
    service: input_number.set_value
  - data:
      value: 0
    entity_id: input_number.count_usage_catlitter_office
    service: input_number.set_value
  - data:
      datetime: '1970-01-01 00:00:00'
    entity_id: input_datetime.last_usage_catlitter_office
    service: input_datetime.set_datetime
  - data:
      value: 0
    entity_id: input_number.count_usage_catlitter_hallway
    service: input_number.set_value
  - data:
      datetime: '1970-01-01 00:00:00'
    entity_id: input_datetime.last_usage_catlitter_hallway
    service: input_datetime.set_datetime
  - data:
      value: 0
    entity_id: input_number.count_usage_catlitter_guestroom
    service: input_number.set_value
  - data:
      datetime: '1970-01-01 00:00:00'
    entity_id: input_datetime.last_usage_catlitter_guestroom
    service: input_datetime.set_datetime
wakeup_light:
  alias: Wakeup light
  sequence:
  - data:
      brightness: 10
      color_temp: 440
      transition: 1
    entity_id: light.bedroom_bed
    service: light.turn_on
  - delay: 00:00:05
  - data:
      brightness: 80
      color_temp: 440
      transition: 600
    entity_id: light.bedroom_bed
    service: light.turn_on
  - delay: 00:10:05
  - data:
      brightness: 164
      color_temp: 440
      transition: 300
    entity_id: light.bedroom_bed
    service: light.turn_on
  mode: single
gaestezimmer_stehlampe_warmweiss:
  alias: Gaestezimmer - Stehlampe - Warmweiss
  sequence:
  - data:
      brightness_pct: 70
      rgb_color:
      - 255
      - 237
      - 172
    service: light.turn_on
    target:
      entity_id: light.guestroom_standinglight
  mode: single
wohnzimmer_stehlampe_warmweiss:
  alias: Wohnzimmer - Stehlampe - Warmweiss
  sequence:
  - data:
      xy_color:
      - 0.45989990234
      - 0.41059875488
    entity_id: light.livingroom_standinglight
    service: light.turn_on
wohnzimmer_stehlampe_alarm_blau:
  alias: Wohnzimmer - Stehlampe - Alarm Blau
  sequence:
  - data:
      rgb_color:
      - 0
      - 0
      - 255
      transition: 1
    entity_id: light.livingroom_standinglight
    service: light.turn_on
  - delay: '1'
  - data:
      flash: short
    entity_id: light.livingroom_standinglight
    service: light.turn_on
  - delay: '3'
  - data:
      transition: 2
      xy_color:
      - 0.45989990234
      - 0.41059875488
    entity_id: light.livingroom_standinglight
    service: light.turn_on
wohnzimmer_stehlampe_alarm_rot:
  alias: Wohnzimmer - Stehlampe - Alarm Rot
  sequence:
  - data:
      rgb_color:
      - 255
      - 0
      - 0
      transition: 1
    entity_id: light.livingroom_standinglight
    service: light.turn_on
  - delay: '1'
  - data:
      flash: short
    entity_id: light.livingroom_standinglight
    service: light.turn_on
  - delay: '3'
  - data:
      transition: 2
      xy_color:
      - 0.45989990234
      - 0.41059875488
    entity_id: light.livingroom_standinglight
    service: light.turn_on
staubsauger_zone_kueche:
  alias: Staubsauger - Küche
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["20"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_bad:
  alias: Staubsauger - Bad
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["22"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_buero:
  alias: Staubsauger - Eva
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["24"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_dusche:
  alias: Staubsauger - Dusche
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["16"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_flur:
  alias: Staubsauger - Flur
  sequence:
  - service: mqtt.publish
    data:
      payload: '{"segment_ids": ["21"], "iterations": 2, "customOrder": true}'
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_gaestezimmer:
  alias: Staubsauger - Jens
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["17"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_schlafzimmer:
  alias: Staubsauger - Schlafzimmer
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["18"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_wohnzimmer:
  alias: Staubsauger - Wohnzimmer
  sequence:
  - service: mqtt.publish
    data:
      payload: '{"segment_ids": ["19"], "iterations": 2, "customOrder": true}'
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
  mode: single
  icon: mdi:robot-vacuum
bewaesserung_kurz:
  alias: Garten - Bewässerung kurz
  sequence:
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_short_area_1")|int)}}'
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_short_area_2")|int)}}'
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_short_area_3")|int)}}'
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_off
  mode: single
bewaesserung_lang:
  alias: Garten - Bewässerung lang
  sequence:
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_long_area_1")|int)}}'
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_long_area_2")|int)}}'
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_long_area_3")|int)}}'
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_off
  mode: single
cover_dining_cat:
  alias: Rollladen - Esstisch - Katzenposition
  mode: restart
  sequence:
  - data:
      position: 40
    service: cover.set_cover_position
    target:
      entity_id:
      - cover.rollladen_esstisch
    alias: Auf Position fahren
cover_couch_cat:
  alias: Rolladen - Couch - Katzenposition
  sequence:
  - service: cover.set_cover_position
    data:
      position: 45
    target:
      entity_id: cover.rollladen_couch
    alias: Auf Position fahren
  mode: restart
vacuum_clean_all:
  alias: Staubsauger - Ganze Wohnung reinigen
  sequence:
  - service: mqtt.publish
    data:
      payload: '{"segment_ids": ["21", "20", "19", "17", "18", "24", "22", "16"],
        "iterations": 2, "customOrder": true}'
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
  mode: single
  icon: mdi:robot-vacuum
cover_couch_orchids:
  alias: Rolladen - Couch - Orchideenschutz
  sequence:
  - service: cover.set_cover_position
    data:
      position: 55
    target:
      entity_id: cover.rollladen_couch
    alias: Auf Position fahren
  mode: restart
cover_kitchen_sunprotection:
  alias: Rolladen - Küche - Sonnenschutz
  sequence:
  - data:
      position: 50
    service: cover.set_cover_position
    target:
      entity_id:
      - cover.kitchen
  mode: single
  icon: mdi:window-open
gaestezimmer_stehlampe_alarm_blau:
  alias: Gaestezimmer - Alarm Blau
  sequence:
  - service: scene.create
    data:
      scene_id: guestroom_light_snapshot
      snapshot_entities:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
    alias: Lichtstatus speichern
  - data:
      rgb_color:
      - 0
      - 0
      - 255
      transition: 1
      brightness_pct: 90
    service: light.turn_on
    alias: Licht auf blau
    target:
      entity_id:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
  - data:
      flash: long
    service: light.turn_on
    alias: Flash
    target:
      entity_id:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
  - service: scene.turn_on
    data:
      transition: 1
    target:
      entity_id: scene.guestroom_light_snapshot
    alias: Lichtstatus wiederherstellen
  mode: single
  icon: mdi:alarm-light
gaestezimmer_stehlampe_alarm_rot:
  alias: Gaestezimmer - Alarm Rot
  sequence:
  - service: scene.create
    data:
      scene_id: guestroom_light_snapshot
      snapshot_entities:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
    alias: Lichtstatus speichern
  - data:
      rgb_color:
      - 255
      - 0
      - 0
      transition: 1
      brightness_pct: 90
    service: light.turn_on
    alias: Licht auf rot
    target:
      entity_id:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
  - data:
      flash: long
    service: light.turn_on
    alias: Flash
    target:
      entity_id:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
  - service: scene.turn_on
    data:
      transition: 1
    target:
      entity_id: scene.guestroom_light_snapshot
    alias: Lichtstatus wiederherstellen
  mode: single
  icon: mdi:alarm-light
gaestezimmer_alarm_regenbogen:
  alias: Gaestezimmer - Alarm Regenbogen
  sequence:
  - service: scene.create
    data:
      scene_id: guestroom_light_snapshot
      snapshot_entities:
      - light.guestroom_standinglight
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
    alias: Lichtstatus speichern
  - repeat:
      count: '2'
      sequence:
      - service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 0
          - 0
        alias: Rot
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Orange
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 127
          - 0
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Gelb
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 255
          - 72
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Gruen
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 0
          - 255
          - 0
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Blau
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 0
          - 0
          - 255
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Lila
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 127
          - 0
          - 255
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Pink
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
          - light.guestroom_standinglight
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 0
          - 255
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
    alias: Regenbogen
  - service: scene.turn_on
    data:
      transition: 1
    target:
      entity_id: scene.guestroom_light_snapshot
    alias: Lichtstatus wiederherstellen
  mode: single
  icon: mdi:alarm-light
rollladen_buro_jens_spalt:
  alias: Rollladen - Büro Jens - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      from_opened: 20
      from_closed: 14
      cover: cover.rollladen_buro_jens
  mode: single
rollladenpositionierung_buro_jens:
  alias: Rollladenpositionierung - Büro Jens
  use_blueprint:
    path: cover_state.yaml
    input:
      cover: cover.rollladen_buro_jens
      contact_sensor: binary_sensor.magnet_window_guestroom_contact
      sun_protection: input_boolean.sonnenschutz_west
      script_ajar: script.rollladen_buro_jens_spalt
      can_open_when_dark: true
      script_cat: '[]'
  icon: mdi:window-shutter-open
  mode: single
rollladen_couch_spalt:
  alias: Rollladen - Couch - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      from_opened: 14
      from_closed: 12
      cover: cover.rollladen_couch
  mode: single
rollladen_esstisch_spalt:
  alias: Rollladen - Esstisch - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      from_opened: 11
      from_closed: 9
      cover: cover.rollladen_esstisch
  mode: single
rollladen_kuche_spalt:
  alias: Rollladen - Küche - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      from_opened: 9
      from_closed: 7
      cover: cover.rollladen_kuche
  mode: single
rollladen_terrasse_spalt:
  alias: Rollladen - Terrasse - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      cover: cover.rollladen_terrasse
      from_opened: 11
      from_closed: 15
  mode: single
announcement:
  alias: Announcement
  sequence:
  - service: scene.create
    data:
      scene_id: "{{ media_player | replace('.', '_') }}_snapshot"
      snapshot_entities:
      - '{{ media_player }}'
    alias: Aktuellen Zustand speichern
  - service: media_player.volume_set
    data:
      volume_level: '{{ volume }}'
    target:
      entity_id: '{{ media_player }}'
    alias: Lautstärke setzen
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
    alias: Warten bis Bereit
  - service: notify.alexa_media
    data:
      message: '{{ message }}'
      target:
      - '{{ media_player }}'
    alias: Nachricht vorlesen
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
    alias: 10s warten
  - service: scene.turn_on
    target:
      entity_id: "{{ media_player | replace('.', '_') }}_snapshot"
    alias: Vorherigen Zustand wiederherstellen
  mode: single
rollladen_schlafzimmer_spalt:
  alias: Rollladen - Schlafzimmer - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      cover: cover.rollladen_schlafzimmer
      from_opened: 15
      from_closed: 14
  mode: single
rollladen_buro_eva_spalt:
  alias: Rollladen - Büro Eva - Spalt
  use_blueprint:
    path: cover_ajar.yaml
    input:
      cover: cover.rollladen_eva
      from_opened: 14
      from_closed: 12
  mode: single
