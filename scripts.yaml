wakeup_light:
  alias: Wakeup light
  sequence:
  - data:
      color_temp: 440
      transition: 1
      brightness_pct: 2
    service: light.turn_on
    target:
      entity_id:
      - light.bedroom_bed
      - light.ambiente
    alias: Einfaden
  - delay: 00:00:05
    alias: 5 Sekunden Pause
  - parallel:
    - data:
        color_temp: 440
        transition: 600
        brightness_pct: 30
      service: light.turn_on
      target:
        entity_id:
        - light.bedroom_bed
      alias: Bettlicht auf 30% in 10 Minuten
    - data:
        color_temp: 480
        transition: 600
        brightness_pct: 10
      service: light.turn_on
      target:
        entity_id:
        - light.ambiente
      alias: Ambiente auf 10% in 10 Minuten
    alias: Schlummern
  - delay: 00:10:05
    alias: 10 Minuten Pause
  - parallel:
    - data:
        color_temp: 440
        transition: 300
        brightness_pct: 70
      service: light.turn_on
      target:
        entity_id:
        - light.bedroom_bed
      alias: Bettlicht auf 70% in 5 Minuten
    - data:
        color_temp: 480
        transition: 300
        brightness_pct: 50
      service: light.turn_on
      target:
        entity_id:
        - light.ambiente
      alias: Ambiente auf 50% in 5 Minuten
    alias: Aufwachen
  - delay:
      hours: 0
      minutes: 5
      seconds: 5
      milliseconds: 0
    alias: 5 Minuten Pause
  - parallel:
    - data:
        color_temp: 180
        transition: 60
        brightness_pct: 80
      service: light.turn_on
      target:
        entity_id:
        - light.bedroom_bed
      alias: Bettlicht auf 80% Kaltweiss in 1 Minute
    - data:
        color_temp: 200
        transition: 60
        brightness_pct: 80
      service: light.turn_on
      target:
        entity_id:
        - light.ambiente
      alias: Ambiente auf 80% Kaltweiss in 1 Minute
    alias: Aufstehen
  mode: single
gaestezimmer_stehlampe_warmweiss:
  alias: Gästezimmer - Stehlampe - Warmweiß
  sequence:
  - data:
      brightness_pct: 80
      rgb_color:
      - 255
      - 237
      - 172
    service: light.turn_on
    target:
      entity_id: light.guestroom_standinglight
    alias: Stehlampe an
  mode: single
staubsauger_zone_kueche:
  alias: Staubsauger - Küche
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["20"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_bad:
  alias: Staubsauger - Bad
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["22"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_buero:
  alias: Staubsauger - Eva
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["24"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_dusche:
  alias: Staubsauger - Dusche
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["16"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_flur:
  alias: Staubsauger - Flur
  sequence:
  - service: mqtt.publish
    data:
      payload: '{"segment_ids": ["21"], "iterations": 2, "customOrder": true}'
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_gaestezimmer:
  alias: Staubsauger - Jens
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["17"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_schlafzimmer:
  alias: Staubsauger - Schlafzimmer
  sequence:
  - service: mqtt.publish
    data:
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
      payload: '{"segment_ids": ["18"], "iterations": 2, "customOrder": true}'
  mode: single
  icon: mdi:robot-vacuum
staubsauger_zone_wohnzimmer:
  alias: Staubsauger - Wohnzimmer
  sequence:
  - service: mqtt.publish
    data:
      payload: '{"segment_ids": ["19"], "iterations": 2, "customOrder": true}'
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
  mode: single
  icon: mdi:robot-vacuum
bewaesserung_kurz:
  alias: Garten - Bewässerung kurz
  sequence:
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_short_area_1")|int)}}'
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_short_area_2")|int)}}'
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_short_area_3")|int)}}'
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_off
  mode: single
bewaesserung_lang:
  alias: Garten - Bewässerung lang
  sequence:
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_long_area_1")|int)}}'
  - data: {}
    entity_id: switch.garden_sprinklers
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_long_area_2")|int)}}'
  - data: {}
    entity_id: switch.garden_rockets
    service: switch.turn_off
  - delay: 00:00:10
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_on
  - delay: '{{ "00:%02i:00"|format(states("input_number.watering_long_area_3")|int)}}'
  - data: {}
    entity_id: switch.garden_hedge
    service: switch.turn_off
  mode: single
vacuum_clean_all:
  alias: Staubsauger - Ganze Wohnung reinigen
  sequence:
  - service: mqtt.publish
    data:
      payload: '{"segment_ids": ["21", "20", "19", "17", "18", "24", "22", "16"],
        "iterations": 2, "customOrder": true}'
      topic: valetudo/rockrobo/MapSegmentationCapability/clean/set
  mode: single
  icon: mdi:robot-vacuum
gaestezimmer_stehlampe_alarm_blau:
  alias: Gästezimmer - Alarm Blau
  sequence:
  - service: scene.create
    data:
      scene_id: guestroom_light_snapshot
      snapshot_entities:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
    alias: Lichtstatus speichern
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
    alias: 1 Sekunde Pause
  - data:
      rgb_color:
      - 0
      - 0
      - 255
      transition: 1
      brightness_pct: 90
    service: light.turn_on
    alias: Licht auf blau
    target:
      entity_id:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
    alias: 1 Sekunde Pause
  - data:
      flash: long
    service: light.turn_on
    alias: Flash
    target:
      entity_id:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
    alias: 10 Sekunden Pause
  - service: scene.turn_on
    data:
      transition: 0
    target:
      entity_id: scene.guestroom_light_snapshot
    alias: Lichtstatus wiederherstellen
  mode: single
  icon: mdi:alarm-light
gaestezimmer_stehlampe_alarm_rot:
  alias: Gästezimmer - Alarm Rot
  sequence:
  - service: scene.create
    data:
      scene_id: guestroom_light_snapshot
      snapshot_entities:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
    alias: Lichtstatus speichern
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
    alias: 1 Sekunde Pause
  - data:
      rgb_color:
      - 255
      - 0
      - 0
      transition: 1
      brightness_pct: 90
    service: light.turn_on
    alias: Licht auf rot
    target:
      entity_id:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
    alias: 1 Sekunde Pause
  - data:
      flash: long
    service: light.turn_on
    alias: Flash
    target:
      entity_id:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
    alias: 10 Sekunden Pause
  - service: scene.turn_on
    data:
      transition: 1
    target:
      entity_id: scene.guestroom_light_snapshot
    alias: Lichtstatus wiederherstellen
  mode: single
  icon: mdi:alarm-light
gaestezimmer_alarm_regenbogen:
  alias: Gästezimmer - Alarm Regenbogen
  sequence:
  - service: scene.create
    data:
      scene_id: guestroom_light_snapshot
      snapshot_entities:
      - light.guestroom_desk_alarm_left
      - light.guestroom_desk_alarm_right
    alias: Lichtstatus speichern
  - delay:
      hours: 0
      minutes: 0
      seconds: 1
      milliseconds: 0
    alias: 1 Sekunde Pause
  - repeat:
      count: '2'
      sequence:
      - service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 0
          - 0
        alias: Rot
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Orange
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 127
          - 0
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Gelb
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 255
          - 72
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Grün
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 0
          - 255
          - 0
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Blau
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 0
          - 0
          - 255
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Lila
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 127
          - 0
          - 255
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
      - alias: Pink
        service: light.turn_on
        target:
          entity_id:
          - light.guestroom_desk_alarm_left
          - light.guestroom_desk_alarm_right
        data:
          brightness_pct: 80
          rgb_color:
          - 255
          - 0
          - 255
      - delay:
          hours: 0
          minutes: 0
          seconds: 1
          milliseconds: 0
    alias: Regenbogen
  - service: scene.turn_on
    data:
      transition: 1
    target:
      entity_id: scene.guestroom_light_snapshot
    alias: Lichtstatus wiederherstellen
  mode: single
  icon: mdi:alarm-light
rollladen_buro_jens_spalt:
  alias: Rollladen - Büro Jens - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      from_opened: 20
      from_closed: 14
      cover: cover.rollladen_buro_jens
  mode: single
rollladen_couch_spalt:
  alias: Rollladen - Couch - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      from_opened: 14
      from_closed: 12
      cover: cover.rollladen_couch
  mode: single
rollladen_esstisch_spalt:
  alias: Rollladen - Esstisch - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      from_opened: 11
      from_closed: 9
      cover: cover.rollladen_esstisch
  mode: single
rollladen_kuche_spalt:
  alias: Rollladen - Küche - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      from_opened: 9
      from_closed: 7
      cover: cover.rollladen_kuche
  mode: single
rollladen_terrasse_spalt:
  alias: Rollladen - Terrasse - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_terrasse
      from_opened: 11
      from_closed: 15
  mode: single
announcement:
  alias: Announcement
  sequence:
  - service: scene.create
    data:
      scene_id: '{{ media_player | replace(".", "_") }}_snapshot'
      snapshot_entities:
      - '{{ media_player }}'
    alias: Aktuellen Zustand speichern
  - service: media_player.volume_set
    data:
      volume_level: '{{ volume }}'
    target:
      entity_id: '{{ media_player }}'
    alias: Lautstärke setzen
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
    alias: Warten bis Bereit
  - service: notify.alexa_media
    data:
      message: '{{ message }}'
      target:
      - '{{ media_player }}'
    alias: Nachricht vorlesen
  - delay:
      hours: 0
      minutes: 0
      seconds: 10
      milliseconds: 0
    alias: 10s warten
  - service: scene.turn_on
    target:
      entity_id: scene.{{ media_player | replace(".", "_") }}_snapshot
    alias: Vorherigen Zustand wiederherstellen
  mode: single
rollladen_schlafzimmer_spalt:
  alias: Rollladen - Schlafzimmer - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_schlafzimmer
      from_opened: 15
      from_closed: 14
  mode: single
rollladen_buro_eva_spalt:
  alias: Rollladen - Büro Eva - Spalt
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_eva
      from_opened: 14
      from_closed: 12
  mode: single
jens_alarm_flash_rot:
  alias: Jens - Alarm - Flash - Rot
  sequence:
  - service: light.turn_on
    data:
      rgb_color:
      - 255
      - 0
      - 0
      brightness_pct: 100
    target:
      entity_id: light.guestroom_desk_alarm_left
    alias: Turn light on in red
  - delay:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 500
    alias: Wait a second
  - service: light.turn_off
    data: {}
    target:
      entity_id: light.guestroom_desk_alarm_left
    alias: Turn light off
  mode: single
rollladen_couch_katzenposition:
  alias: Rollladen - Couch - Katzenposition
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_couch
      from_opened: 45
      from_closed: 41
  mode: single
rollladen_couch_orchideenschutz:
  alias: Rollladen - Couch - Orchideenschutz
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_couch
      from_opened: 55
      from_closed: 50
  mode: single
rollladen_esstisch_katzenposition:
  alias: Rollladen - Esstisch - Katzenposition
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_esstisch
      from_opened: 40
      from_closed: 35
  mode: single
rollladen_kuche_sonnenschutz:
  alias: Rollladen - Küche - Sonnenschutz
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_kuche
      from_opened: 42
      from_closed: 40
  mode: single
rollladen_esstisch_sonnenschutz:
  alias: Rollladen - Esstisch - Sonnenschutz
  use_blueprint:
    path: cover_position.yaml
    input:
      cover: cover.rollladen_esstisch
      from_opened: 36
      from_closed: 31
  mode: single
