language: python
python: "3.6.6"
before_install:
  - cd homeassistant/
  - touch firetv/adbkey firetv/adbkey.pub
  - mv travis_secrets.yaml secrets.yaml
  - cd custom_components
  # install hacs
  - git clone https://github.com/custom-components/hacs.git hacs_temp
  - cd hacs_temp
  - git checkout $(git describe --tags $(git rev-list --tags --max-count=1))
  - cd ../
  - cp -r hacs_temp/custom_components/hacs hacs
  - rm -rf hacs_temp
  # install docker monitor custom component
  - git clone https://github.com/lociii/home-assistant-custom-components.git docker_monitor_temp
  - cp -r docker_monitor_temp/custom_components/docker_monitor docker_monitor
  - rm -rf docker_monitor
  - cd ../
install:
  - pip3 install homeassistant
  - hass --version
script:
  - hass -c . --script check_config --info all
